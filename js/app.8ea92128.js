(function(){"use strict";var e={7212:function(e,t,r){var n=r(7195),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("Converter")],1)},o=[],a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"converter-component"},[t("div",{staticClass:"container"},[t("div",{staticClass:"converter-component__box"},[e._m(0),t("div",{staticClass:"box__converter"},[t("div",{staticClass:"converter__select-initial-currency item"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.fromCurrency,expression:"fromCurrency"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.fromCurrency=t.target.multiple?r:r[0]},e.updateConversion]}},e._l(e.currencies,(function(r,n){return t("option",{key:n,domProps:{value:r}},[e._v(" "+e._s(r)+" ")])})),0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.fromAmount,expression:"fromAmount"}],attrs:{type:"number",placeholder:"amountFrom",min:"0",max:"maxValue"},domProps:{value:e.fromAmount},on:{keyup:e.updateConversion,input:function(t){t.target.composing||(e.fromAmount=t.target.value)}}})]),t("div",{staticClass:"converter__select-desired-currency item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.toAmount,expression:"toAmount"}],attrs:{type:"number",placeholder:"amountTo"},domProps:{value:e.toAmount},on:{keyup:e.updateConversion,input:function(t){t.target.composing||(e.toAmount=t.target.value)}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.toCurrency,expression:"toCurrency"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.toCurrency=t.target.multiple?r:r[0]},e.updateConversion]}},e._l(e.currencies,(function(r,n){return t("option",{key:n,domProps:{value:r}},[e._v(" "+e._s(r)+" ")])})),0)])]),t("div",{staticClass:"box__rates"},[t("CurrencyRates")],1)])])])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"box__title"},[t("span",[e._v("Currency Converter")])])}],c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"currency-rates-component"},[t("div",{staticClass:"currency-rates-component__box-wrapper"},[e._m(0),t("div",{staticClass:"box-wrapper__rates"},[t("div",{staticClass:"rates__first-part"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.defaultInterestingCurrency,expression:"defaultInterestingCurrency"}],on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.defaultInterestingCurrency=t.target.multiple?r:r[0]},e.loadCurrency]}},e._l(e.interestingCurrency,(function(r,n){return t("option",{key:n,domProps:{value:r}},[e._v(" "+e._s(r)+" ")])})),0)]),t("div",{staticClass:"rates__second-part"},[t("table",[e._m(1),t("tbody",e._l(e.rates,(function(r,n,s){return t("tr",{key:n},[t("td",[e._v(e._s(s+1))]),t("td",[e._v(e._s(n))]),t("td",[e._v(e._s(r))])])})),0)])])])]),t("div",{staticClass:"btn__open-popup"},[t("button",{on:{click:e.showModal}},[e._v("Add Currency")]),e.isModalVisible?t("modal",{attrs:{title:e.popupTitle,currencies:e.currencies},on:{addCurrency:e.addCurrency,close:e.hideModal},scopedSlots:e._u([{key:"body",fn:function(){},proxy:!0}],null,!1,2020317593)}):e._e(),t("button",{class:{disabled:e.isDisabled},attrs:{disabled:e.isDisabled},on:{click:e.disableButton}},[e._v("Refresh")])],1),t("div",{staticClass:"disable-text"},[!0===e.isDisabled?t("p",[e._v("Идет обновление курсов валют...")]):e._e()])])},u=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"box-wrapper__title"},[t("span",[e._v("Currency Rates")])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("#")]),t("th",[e._v("Currency Code")]),t("th",[e._v("Currency Value")])])])}],l=(r(7658),function(){var e=this,t=e._self._c;return t("div",{staticClass:"popup"},[t("div",{staticClass:"popup-inner"},[t("div",{staticClass:"popup-header"},[e._t("header",(function(){return[t("div",{staticClass:"header__title"},[t("h3",[e._v(e._s(e.title))])]),t("div",{staticClass:"header__input-search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchQuery,expression:"searchQuery"}],attrs:{type:"text"},domProps:{value:e.searchQuery},on:{input:function(t){t.target.composing||(e.searchQuery=t.target.value)}}})]),t("div",{staticClass:"header__button-close"},[t("button",{staticClass:"closePopup",on:{click:e.closePopup}},[e._v("x")])])]}))],2),t("div",{staticClass:"popup-body"},[e._t("body",(function(){return[t("ul",e._l(e.searchCurrencies,(function(r,n){return t("li",{key:n},[t("span",[e._v(e._s(n)+" - "+e._s(r))]),t("button",{on:{click:function(t){return e.addCurrency(n)}}},[e._v("Добавить")])])})),0)]}))],2)])])}),d=[],p={props:{title:{type:String,required:!0},currencies:{type:Array,required:!0}},data:()=>({searchQuery:"",searchList:[]}),async created(){try{await fetch("https://openexchangerates.org/api/currencies.json").then((e=>e.json())).then((e=>{console.log("data: ",e),this.searchList=e})).catch((e=>{console.log("request API error: ",e)}))}catch(e){console.log(e)}},methods:{closePopup(){this.$emit("close")},addCurrency(e){this.$emit("addCurrency",e)}},computed:{searchCurrencies(){return Object.keys(this.searchList).filter((e=>this.searchList[e].toLowerCase().includes(this.searchQuery.toLowerCase()))).reduce(((e,t)=>(e[t]=this.searchList[t],e)),{})}}},v=p,h=r(1001),m=(0,h.Z)(v,l,d,!1,null,null,null),f=m.exports,y={components:{Modal:f},data:()=>({popupTitle:"Search Currency",amount:"",defaultInterestingCurrency:"USD",interestingCurrency:["USD","EUR","UAH"],currencies:["USD","EUR","UAH","BTC"],rates:{},isModalVisible:!1,updating:!1,updateInterval:null,updateIntervalTime:5e3,lastUpdate:null,isDisabled:!1,newCurrency:""}),computed:{localStorageCurrencies(){const e=JSON.parse(localStorage.getItem("currencies"))||[];return e.join(", ")}},methods:{loadCurrency(){const e=`https://api.apilayer.com/exchangerates_data/latest?&symbols=${this.currencies.join()}&base=${this.defaultInterestingCurrency}`;fetch(e,{headers:{"Content-Type":"application/json",apikey:"TD4g0jDDYziBqjghae347S98c6S1VaCu"}}).then((e=>e.json())).then((e=>{console.log("data: ",e),this.rates=e.rates,localStorage.setItem("rates",JSON.stringify(this.rates))})).catch((e=>{console.log(e)}))},addCurrency(e){this.currencies.includes(e)||(this.currencies.push(e),localStorage.setItem("currencies",JSON.stringify(this.currencies)),this.loadCurrency(),this.hideModal())},updateRates(){this.isUpdating||(this.isUpdating=!0,this.loadCurrency())},showModal(){this.isModalVisible=!0},hideModal(){this.isModalVisible=!1},disableButton(){this.isDisabled=!0,setTimeout((()=>{this.enableButton(),this.loadCurrency()}),5e3)},enableButton(){this.isDisabled=!1}},mounted(){this.loadCurrency()},created(){const e=JSON.parse(localStorage.getItem("currencies"));e&&Array.isArray(e)&&(this.currencies=this.currencies.concat(e)),this.loadCurrency()}},_=y,C=(0,h.Z)(_,c,u,!1,null,null,null),g=C.exports,b={components:{CurrencyRates:g},data(){return{currencies:["USD","EUR","UAH","GBP","BTC","ETH","BNB","XRP"],fromCurrency:"USD",toCurrency:"BTC",fromAmount:1,toAmount:"",exchangeRate:0}},computed:{maxValue(){return 1e4-this.fromAmount}},methods:{updateConversion(){const e=`https://api.apilayer.com/fixer/latest?&base=${this.fromCurrency}&symbols=${this.toCurrency}`;fetch(e,{headers:{"Content-Type":"application/json",apikey:"vxd7LY4mnAh2T08RuDLG2GeEGUjDbsix"}}).then((e=>e.json())).then((e=>{console.log("data: ",e),this.exchangeRate=e.rates[this.toCurrency],this.toAmount=(this.fromAmount*this.exchangeRate).toFixed(2)})).catch((e=>{console.log(e)}))}},mounted(){this.updateConversion()}},x=b,A=(0,h.Z)(x,a,i,!1,null,null,null),w=A.exports,k={name:"App",components:{Converter:w}},S=k,j=(0,h.Z)(S,s,o,!1,null,null,null),D=j.exports;n.ZP.config.productionTip=!1,new n.ZP({render:e=>e(D)}).$mount("#app")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,s,o){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],s=e[l][1],o=e[l][2];for(var i=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(i=!1,o<a&&(a=o));if(i){e.splice(l--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,s,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,o,a=n[0],i=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(c)var l=c(r)}for(t&&t(n);u<a.length;u++)o=a[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(l)},n=self["webpackChunkconverter"]=self["webpackChunkconverter"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(7212)}));n=r.O(n)})();
//# sourceMappingURL=app.8ea92128.js.map